[tox]
requires = tox>=4.0
envlist = py310,py311,py312

[testenv]
package = wheel
wheel_build_env = .pkg
deps =
    pytest>=7.0
    pytest-asyncio>=0.21.0
    pytest-cov>=4.1.0
    httpx>=0.25.0
    fastapi>=0.104.0
    uvicorn>=0.24.0
commands =
    pytest -v --cov=open_sedimentation_manager --cov-report=html --cov-report=term

[testenv:lint]
deps =
    black>=23.0
    isort>=5.12
    flake8>=6.0
    mypy>=1.0
commands =
    black --check src/ tests/
    isort --check-only src/ tests/
    flake8 src/ tests/
    mypy src/

[testenv:format]
deps =
    black>=23.0
    isort>=5.12
commands =
    black src/ tests/
    isort src/ tests/

